<div class="page-header">
	<div class="btn-toolbar pull-right">
		<button class="btn btn-primary" ui-sref="^.createAssignment({productid:productDetail.productID})"><i class="fa fa-plus-circle"></i> New Assignment</button>
	</div>
	<h3>Assignments for {{productDetail.productName}}</h3>
</div>
<div class="well well-lg text-center" ng-if="!productDetail.listAssignments.length">
	<b>This product does not have any assignments for the active Buyer company.</b>
</div>

<!--====== LIST ======-->
<div ng-if="productDetail.listAssignments.length">
	<table class="table table-hover table-condensed oc-table-responsive" controlleras="productDetail">
		<thead>
		<tr>
			<th>
				<div>Party ID</div>
			</th>
			<th>
				<div>Standard Price Schedule ID</div>
			</th>
			<th></th>
		</tr>
		</thead>
		<tbody>
		<tr ng-repeat="assignment in productDetail.listAssignments">
			<th scope="row">{{assignment.UserID || assignment.UserGroupID || assignment.BuyerID}}
				<small class="text-muted" ng-if="!assignment.UserID && !assignment.UserGroupID">(Buyer)</small>
			</th>
			<td data-title="Standard Price Schedule">{{assignment.StandardPriceScheduleID}}
				<span class="text-muted" ng-if="!assignment.StandardPriceScheduleID">None</span>
			</td>
			<td class="actions-cell">
				<button type="button" class="btn btn-danger btn-sm" uib-tooltip="Delete Assignment" tooltip-placement="left" ng-click="productDetail.DeleteAssignment(this)">
					<i class="fa fa-trash"></i>
				</button>
			</td>
		</tr>
		</tbody>
	</table>
	<div class="text-center" ng-if="application.$ocMedia('min-width:768px') && productDetail.listAssignments.Meta.TotalPages > 1"">
	<uib-pagination boundary-links="productDetail.listAssignments.Meta.TotalPages > 5"
					max-size="5" total-items="productDetail.listAssignments.Meta.TotalCount"
					items-per-page="productDetail.listAssignments.Meta.PageSize"
					ng-model="productDetail.listAssignments.Meta.Page"
					ng-change="productDetail.pageChanged()"></uib-pagination>
</div>
<button type="button"
		ng-if="application.$ocMedia('max-width:767px')"
		class="btn btn-default btn-block btn-lg"
		ng-show="productDetail.listAssignments.Meta.Page < productDetail.listAssignments.Meta.TotalPages"
		ng-click="productDetail.loadMore()">Load More</button>
</div>
