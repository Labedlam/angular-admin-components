<form cg-busy="createCategory.loading">
    <div class="modal-header">
        <button type="button" class="close" aria-label="Close" ng-click="assignProduct.cancel()"><span aria-hidden="true">&times;</span></button>
        <h3 class="modal-title">Add Products</h3>
    </div>
    <div class="modal-body">
        <!--====== SEARCH ======-->
        <form name="ProductsSearchForm" class="form-inline">
            <fieldset class="form-group">
                <input type="search" placeholder="Search Products..." ng-model="assignProduct.parameters.search" class="form-control">
            </fieldset>
            <fieldset class="form-group" ng-class="{'text-center':application.$ocMedia('max-width:767px')}">
                <span ng-class="{'btn-group':assignProduct.searchResults}">
			        <button ng-click="assignProduct.search()" class="btn btn-primary">Search</button>
			        <button ng-if="assignProduct.searchResults" ng-click="assignProduct.clearSearch()" type="button" class="btn btn-default"><i class="fa fa-times"></i></button>
		        </span>
            </fieldset>
        </form>
        <!--====== LIST ======-->
        <div class="no-matches" ng-if="!assignProduct.list.Items.length">
            <b>No matches found.</b>
        </div>
        <div ng-if="assignProduct.list.Items.length">
            <b class="pull-right">{{(application.$ocMedia('min-width:768px') ? assignProduct.list.Meta.ItemRange[0] : '1') + ' - ' +  assignProduct.list.Meta.ItemRange[1] + ' of ' + assignProduct.list.Meta.TotalCount + ' results'}}</b>
            <table class="table table-hover oc-table-responsive">
                <thead>
                    <tr>
                        <th scope="col">ID</th>
                        <th>Name</th>
                        <th>Description</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="product in assignProduct.list.Items">
                        <th scope="row">{{product.ID}}</th>
                        <td data-title="Name">{{product.Name}}</td>
                        <td data-title="Description">{{product.Description}}</td>
                        <td class="actions-cell">
                            <button ng-click="assignProduct.addProduct(product.ID)" class="btn btn-success btn-sm"><i class="fa fa-plus" aria-hidden="true"></i>Add</button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <!--====== Pagination ======-->
            <div class="text-center" ng-if="application.$ocMedia('min-width:768px') && assignProduct.list.Meta.TotalPages > 1">
                <uib-pagination 
                    boundary-links="assignProduct.list.Meta.TotalPages > 5" 
                    max-size="5" total-items="assignProduct.list.Meta.TotalCount" 
                    items-per-page="assignProduct.list.Meta.PageSize" 
                    ng-model="assignProduct.list.Meta.Page" 
                    ng-change="assignProduct.pageChanged()">
                </uib-pagination>
            </div>
            <button type="button" 
                    ng-if="application.$ocMedia('max-width:767px')" 
                    class="btn btn-default btn-block btn-lg" 
                    ng-show="assignProduct.list.Meta.Page < assignProduct.list.Meta.TotalPages" 
                    ng-click="assignProduct.loadMore()">Load More
            </button>
        </div>
    </div>
</form>